#pragma checksum "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "29d1ce3f22da7a01f385fb0d261f56338f9d3219"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Account_ReadBook), @"mvc.1.0.view", @"/Views/Account/ReadBook.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Account/ReadBook.cshtml", typeof(AspNetCore.Views_Account_ReadBook))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"29d1ce3f22da7a01f385fb0d261f56338f9d3219", @"/Views/Account/ReadBook.cshtml")]
    public class Views_Account_ReadBook : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 1 "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml"
  
    ViewData["Title"] = "Read Book";
    Layout = "~/Views/Shared/_LayoutPageReader.cshtml";

#line default
#line hidden
            BeginContext(102, 103, true);
            WriteLiteral("<!--<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <div class=\"text-secondary\">\r\n            ");
            EndContext();
            BeginContext(206, 15, false);
#line 8 "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml"
       Write(Html.Raw(Model));

#line default
#line hidden
            EndContext();
            BeginContext(221, 140, true);
            WriteLiteral("\r\n        </div>\r\n    </div>\r\n</div>-->\r\n\r\n<!-- <div class=\"reader-bkg\">\r\n    <div class=\"reader-txt\" onmousedown=\"return false;\">\r\n        ");
            EndContext();
            BeginContext(362, 15, false);
#line 15 "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml"
   Write(Html.Raw(Model));

#line default
#line hidden
            EndContext();
            BeginContext(377, 86, true);
            WriteLiteral("\r\n    </div>\r\n</div> -->\r\n\r\n<div class=\"reader-bkg\">\r\n    <div id=\"container\" hidden=>");
            EndContext();
            BeginContext(464, 15, false);
#line 20 "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml"
                           Write(Html.Raw(Model));

#line default
#line hidden
            EndContext();
            BeginContext(479, 153, true);
            WriteLiteral("</div>\r\n    <span id=\"html-2-pdfwrapper\" class=\"reader-txt\" onmousedown=\"return false;\">\r\n    </span>\r\n    <input type=\"hidden\" id=\"bookid\" name=\"bookid\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 632, "\"", 655, 1);
#line 23 "E:\Projects\C++ Project\current app\current app\Narrativ_Books\WebApplication1\Views\Account\ReadBook.cshtml"
WriteAttributeValue("", 640, ViewBag.bookId, 640, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(656, 4151, true);
            WriteLiteral(@" asp-for=""bookid"" >
    <div class=""col-8 col-lg-6 col-md-7 col-xs-6 rating"">
        <input type=""radio"" id=""star5"" name=""rating"" value=""5"" /><label for=""star5"" title=""Rocks!"">5 stars</label>
        <input type=""radio"" id=""star4"" name=""rating"" value=""4"" /><label for=""star4"" title=""Pretty good"">4 stars</label>
        <input type=""radio"" id=""star3"" name=""rating"" value=""3"" /><label for=""star3"" title=""Meh"">3 stars</label>
        <input type=""radio"" id=""star2"" name=""rating"" value=""2"" /><label for=""star2"" title=""Kinda bad"">2 stars</label>
        <input type=""radio"" id=""star1"" name=""rating"" value=""1"" /><label for=""star1"" title=""Sucks big time"">1 star</label>
    </div>
    <input type=""button"" class=""btn dark btn-outline sbold uppercase"" id=""submit"" value=""Rating"" />
</div>
<script type=""text/javascript"">
    $(document).ready(function() {
        generate();
        
    });
    $('#submit').on('click', function(e) {
        $.ajax({
            url: '/Account/RatingBook',
            type: '");
            WriteLiteral(@"post',
            data: {
                ratingvalue: $('input:radio[name=rating]:checked').val(),
                bookid: $(""#bookid"").val()
            },
            success: function(res) {
                alert(""Rating Finishied"");
            }
        })
    });

    var base64Img = null;
    margins = {
        top: 70,
        bottom: 40,
        left: 30,
        width: 550
    };

/* append other function below: */

    generate = function()
    {
        var contentDIV = document.getElementById('container');
        var imgs = $(""#container"").find('img');
        if (imgs.length > 0)
            $(""#container"").find('img').remove();
        // var content = document.getElementById('container').innerHTML;
        // var modify_content = str.replace('""', ""'"");

        var pdf = new jsPDF('p', 'pt', 'a4');
        pdf.setFontSize(18);
        pdf.fromHTML(document.getElementById('container').innerHTML, margins.left, margins.top,
        {
          width: margins.");
            WriteLiteral(@"width// max width of content on PDF
        }, function(dispose) {
          headerFooterFormatting(pdf)
        }, margins);

        // var height = $(""#container"").offset().top + document.getElementById('container').offsetHeight;
        // for (var i = 0; i < imgs.length; i ++) {
        //     pdf.addImage(imgs[i], 'JPEG', margins.left, (i+1)*(height + 10 + imgs[i].height), imgs[i].width, imgs[i].height);
        // }

        var iframe = document.createElement('iframe');
        iframe.setAttribute('style','flat:left;right:0; top:0; bottom:0; height:974px; width:100%; padding:20px;');
        document.body.appendChild(iframe);
      
        iframe.src = pdf.output('datauristring');
    };

    function headerFooterFormatting(doc)
    {
        var totalPages  = doc.internal.getNumberOfPages();
        for(var i = totalPages; i >= 1; i--)
        { //make this page, the current page we are currently working on.
            doc.setPage(i);      
            // header(doc);
      ");
            WriteLiteral(@"      // footer(doc, i, totalPages);
        }
    };

    function header(doc)
    {
        doc.setFontSize(30);
        doc.setTextColor(40);
        doc.setFontStyle('normal');
      
        if (base64Img) {
           doc.addImage(base64Img, 'JPEG', margins.left, 10, 40,40);        
        }
          
        doc.text("""", margins.left + 50, 40 );
      
        doc.line(3, 70, margins.width + 43,70); // horizontal line
    };

    function imgToBase64(url, callback, imgVariable) {
     
        if (!window.FileReade) {
            callback(null);
            return;
        }
        var xhr = new XMLHttpRequest();
        xhr.responseType = 'blob';
        xhr.onload = function() {
            var reader = new FileReader();
            reader.onloadend = function() {
          imgVariable = reader.result.replace('text/xml', 'image/jpeg');
                callback(imgVariable);
            };
            reader.readAsDataURL(xhr.response);
        };
        xhr.open");
            WriteLiteral("(\'GET\', url);\r\n        xhr.send();\r\n    };\r\n</script>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
